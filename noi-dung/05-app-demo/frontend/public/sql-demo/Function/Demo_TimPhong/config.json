{
  "id": "demo-fn-tim-phong",
  "title": "Function 2: T√¨m Ph√≤ng Tr·ªëng",
  "type": "Function",
  "shortDesc": "L·ªçc danh s√°ch ph√≤ng tr·ªëng theo th·ªùi gian th·ª±c.",
  "mdFile": "Function/Demo_TimPhong/problem.html",
  "sqlFile": "Function/Demo_TimPhong/fn_TimPhongTrong.sql",
  "separateTables": [
    {
      "name": "PHONG",
      "label": "üè® Ph√≤ng G·ªëc",
      "sqlFetchInitial": "SELECT TOP 20 * FROM PHONG WHERE trang_thai = 'AVAILABLE'",
      "sqlBefore": "SELECT * FROM PHONG WHERE loai_phong_id = @LoaiPhongID",
      "sqlAfter": "SELECT * FROM PHONG WHERE loai_phong_id = @LoaiPhongID",
      "columns": [
        { "key": "id", "label": "ID", "isPk": true },
        { "key": "so_phong", "label": "S·ªë Ph√≤ng" }
      ]
    },
    {
      "name": "KET_QUA",
      "label": "‚úÖ K·∫æT QU·∫¢ T√åM KI·∫æM",
      "sqlFetchInitial": "SELECT '' AS [SoPhong], '' AS [TrangThai]",
      "sqlBefore": "SELECT 'Ch∆∞a ch·∫°y' AS [SoPhong], '' AS [TrangThai]",
      "sqlAfter": "SELECT so_phong AS [SoPhong], N'‚úÖ C√≤n tr·ªëng' AS [TrangThai] FROM dbo.fn_TimPhongTrongTheoLoai(@LoaiPhongID, CAST(@CheckIn AS DATETIME), CAST(@CheckOut AS DATETIME))",
      "columns": [
        { "key": "SoPhong", "label": "Ph√≤ng C√≥ Th·ªÉ ƒê·∫∑t", "isPk": true },
        { "key": "TrangThai", "label": "Tr·∫°ng Th√°i" }
      ]
    }
  ],
  "params": [
    { "name": "@LoaiPhongID", "type": "int", "defaultValue": 1 },
    { "name": "@CheckIn", "type": "datetime", "defaultValue": "2025-04-02 14:00:00" },
    { "name": "@CheckOut", "type": "datetime", "defaultValue": "2025-04-03 12:00:00" }
  ]
}